<!-- <div nz-row>
    <div nz-col [nzSpan]='24'>
            <textarea #CodeMirror name="code"></textarea>
    </div>
</div> -->

<nz-form-item>
  <nz-form-label [nzFor]="config.field" [nzSpan]="config.config.labelSize.span" [nzSm]="config.config.labelSize.nzSm"
    [nzXs]="config.config.labelSize.nzXs" [nzMd]="config.config.labelSize.nzMd" [nzLg]="config.config.labelSize.nzLg"
    [nzXl]="config.config.labelSize.nzXl" [nzRequired]="config.config.titleConfig.required">
    {{config.config.title}}</nz-form-label>
  <nz-form-control [nzSpan]="config.config.controlSize.span" [nzSm]="config.config.controlSize.nzSm"
    [nzXs]="config.config.controlSize.nzXs" [nzMd]="config.config.controlSize.nzMd"
    [nzLg]="config.config.controlSize.nzLg" [nzXl]="config.config.controlSize.nzXl" [formGroup]="formGroup"
    [nzErrorTip]="combineTpl" nzHasFeedback nzValidatingTip="Validating...">
    <input nz-input [formControlName]="config.field" hidden="hidden" [(ngModel)]="value"
      (ngModelChange)="valueChange($event)" />
    <nz-spin [nzSpinning]="isSpinning" [nzDelay]="300">
      <div style="border:1px solid #d9d9d9;border-radius: 4px; width:100%; ">

        <textarea #CodeMirror name="code" [ngStyle]="divstyle"></textarea>
        <div style="height: 3px;"></div>
      </div>
    </nz-spin>


    <ng-template #combineTpl let-control>
      <ng-container nz-col *ngFor="let c of config.validations">
        <ng-container *ngIf="control.hasError(c['validator'])">{{c.message ? c.message:'校验不通过' }}</ng-container>
      </ng-container>
      <ng-container *ngIf="control.hasError('_subscribe')">

      </ng-container>
    </ng-template>
  </nz-form-control>
</nz-form-item>
